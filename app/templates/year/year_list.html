{% extends 'base_layout.html' %}

{% load static %}
{% load custom_tags %}
{% block content %}

<script src='{% static "js/year.js" %}'></script>

<link rel="stylesheet" href='{% static "css/year.css" %}'>

<script>
  console.log(yearData)
  // Store the JSON data in a JavaScript variable
  var yearData = {{ data|safe }};

  console.log(yearData)

  $(document).ready(function() {
      populateGrid(yearData);
  });
  
</script>


<div class="selectorContainer">
  <select id="yearSelector" onchange="openYear()">
      {% for year in years %}
            <option {% if year.value == selected_year %} selected {% endif %} value="{{ year.value|replace_spaces_and_decimals }}">{{ year.value|replace_spaces_and_decimals }} - Year {{ year.index }}</option>
      {% endfor %}
 
  </select>
  
  <a href="{% url 'app:year' %}">
      <button class="green-button">Now</button>
  </a>

</div>



<div id="yearGridContainer">
  <table class="table">
      <tbody>
          <!-- Quarter I -->
        <tr>
          <td value="49"></td>
          <td value="50"></td>
          <td value="51"></td>
          <td value="52"></td>
        </tr>
        <tr>
          <td value="45"></td>
          <td value="46"></td>
          <td value="47"></td>
          <td value="48"></td>
        </tr>
        <tr>
          <td value="41"></td>
          <td value="42"></td>
          <td value="43"></td>
          <td value="44"></td>
        </tr>
        <tr>
          <td></td>
          <td class="quartalLabel">IV.</td>
          <td></td>
          <td value="40"></td>
        </tr>
        <tr></tr>
        <tr>
          <td value="36"></td>
          <td value="37"></td>
          <td value="38"></td>
          <td value="39"></td>
        </tr>
        <tr>
          <td value="32"></td>
          <td value="33"></td>
          <td value="34"></td>
          <td value="35"></td>
        </tr>
        <tr>
          <td value="28"></td>
          <td value="29"></td>
          <td value="30"></td>
          <td value="31"></td>
        </tr>
        <tr>
          <td></td>
          <td class="quartalLabel">III.</td>
          <td></td>
          <td value="27"></td>
        </tr>
        <tr></tr>
        <tr>
          <td value="23"></td>
          <td value="24"></td>
          <td value="25"></td>
          <td value="26"></td>
        </tr>
        <tr>
          <td value="19"></td>
          <td value="20"></td>
          <td value="21"></td>
          <td value="22"></td>
        </tr>
        <tr>
          <td value="15"></td>
          <td value="16"></td>
          <td value="17"></td>
          <td value="18"></td>
        </tr>
        <tr>
          <td></td>
          <td class="quartalLabel">II.</td>
          <td></td>
          <td value="14"></td>
        </tr>
        <tr></tr>
        <tr>
            <td value="10"></td>
            <td value="11"></td>
            <td value="12"></td>
            <td value="13"></td>
        </tr>
          <tr>
              <td value="6"></td>
              <td value="7"></td>
              <td value="8"></td>
              <td value="9"></td>
          </tr>
          <tr>
              <td value="2"></td>
              <td value="3"></td>
              <td value="4"></td>
              <td value="5"></td>
          </tr>
        <tr>
              <td></td>
              <td class="quartalLabel">I.</td>
              <td></td>
              <td value="1"></td>
          </tr>
      </tbody>
  </table>
</div>


{% endblock %}